function TinyDatePicker(e,t){"use strict";function n(){h||(u(m.parse(e.value)),w.appendChild(y),w.appendChild(M),setTimeout(function(){m.useModal?y.className+=" dp-visible":y.className+=" dp-show",r()},1))}function a(){w.contains(y)&&m.useModal&&(h=1,e.focus(),e.selectionEnd=e.selectionStart,w.removeChild(y),w.removeChild(M),y.className=y.className.replace(" dp-visible",""),setTimeout(function(){h=0},1))}function o(){y.innerHTML=f(b,m).innerHTML,r()}function r(){y.querySelector(".dp-selected").focus()}function s(t){e.value=t?m.format(t):"",u(t),a()}function u(e){e&&(b=e,o())}function c(e){return function(){b.setDate(b.getDate()+e),u(b)}}function d(e){return function(){var t=new Date(b);t.setDate(1),e>0&&t.setMonth(t.getMonth()+2),t.setDate(t.getDate()-1),b.getDate()<t.getDate()&&t.setDate(b.getDate()),u(t)}}function i(e){return function(t){var n=e[t.which];n&&/dp-selected/.test(t.target.className)&&(t.preventDefault(),n())}}function l(e){return function(t){t.target.className.split(/[\s]+/g).forEach(function(n){e[n]&&e[n](t)})}}function p(e){return D({format:function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()},parse:function(e){var t=new Date(e);return isNaN(t)?new Date:t},days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",clear:"Clear",close:"Close",useModal:!0},e)}function f(e,t){function n(){var e="";return e=t.useModal?'<button class="dp-close">'+t.close+"</button>":'<button class="dp-close" disabled>&nbsp;</button>'}function a(){for(var e="",n=0;7>n;++n)e+='<span class="dp-day-of-week">'+t.days[n]+"</span>";return e}function o(){var t=new Date(e),n="";t.setDate(1),t.setDate(t.getDate()-t.getDay());for(var a=0;42>a;++a){var o=t.getDate(),r="dp-day",s=t.toDateString()==e.toDateString(),u=t.toDateString()===(new Date).toDateString(),c=t.getMonth()!==e.getMonth(),d=s?"a":"span";s&&(r+=" dp-selected"),c&&(r+=" dp-edge-day"),u&&(r+=" dp-day-today"),n+="<"+d+' href="#" class="'+r+'" data-dp="'+t.getTime()+'">'+o+"</"+d+">",t.setDate(o+1)}return n}return g('<div class="dp-wrapper"><div class="dp"><header class="dp-header"><button class="dp-prev"></button><span class="dp-month-year"><span class="dp-month">'+t.months[e.getMonth()]+'</span><span class="dp-year">'+e.getFullYear()+'</span></span><button class="dp-next"></button></header><div class="dp-body">'+a()+o()+'</div><footer class="dp-footer"><button class="dp-today">'+t.today+'</button><button class="dp-clear">'+t.clear+"</button>"+n()+"</footer></div></div>")}function v(e,t,n){e.addEventListener(t,n,!0)}function D(e,t){for(var n in t)e[n]=t[n];return e}function g(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}var m=p(t),b=m.parse(e.value),y=f(b,m),h=!1,M=g('<button style="position:absolute;border:0;background:transparent;"></button>'),w=document.body;e.readOnly=!0,m.useModal?(v(e,"focus",n),v(e,"click",n)):n(),v(y,"keydown",i({37:c(-1),38:c(-7),39:c(1),40:c(7),13:function(){s(b)},27:a})),v(y,"click",l({"dp-clear":function(){s()},"dp-close":a,"dp-wrapper":a,"dp-prev":d(-1),"dp-next":d(1),"dp-today":function(){s(new Date)},"dp-day":function(e){var t=e.target.getAttribute("data-dp");t&&s(new Date(parseInt(t)))}})),v(y,"mousedown",function(e){~["A","BUTTON"].indexOf(e.target.tagName)||e.preventDefault()}),v(y,"blur",function(e){setTimeout(function(){y.contains(document.activeElement)||a()},1)})}"undefined"!=typeof module&&module.exports&&(module.exports=TinyDatePicker);
//# sourceMappingURL=tiny-date-picker.min.js.map