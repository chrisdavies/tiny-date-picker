function TinyDatePicker(t,e){"use strict";function n(){h||(u(y.parse(t.value)),M.appendChild(g),M.appendChild(w),setTimeout(function(){g.className+=" dp-visible",r()},1))}function a(){M.contains(g)&&(h=1,t.focus(),t.selectionEnd=t.selectionStart,M.removeChild(g),M.removeChild(w),g.className=g.className.replace(" dp-visible",""),setTimeout(function(){h=0},1))}function o(){g.innerHTML=f(D,y).innerHTML,r()}function r(){g.querySelector(".dp-selected").focus()}function s(e){t.value=e?y.format(e):"",u(e),a(),t.dispatchEvent(new T("change",{bubbles:!0}))}function u(t){t&&(D=t,o())}function c(t){return function(){D.setDate(D.getDate()+t),u(D)}}function i(t){return function(){var e=new Date(D);e.setDate(1),t>0&&e.setMonth(e.getMonth()+2),e.setDate(e.getDate()-1),D.getDate()<e.getDate()&&e.setDate(D.getDate()),u(e)}}function d(t){return function(e){var n=t[e.which];n&&/dp-selected/.test(e.target.className)&&(e.preventDefault(),n())}}function l(t){return function(e){e.target.className.split(/[\s]+/g).forEach(function(n){t[n]&&t[n](e)})}}function p(t){return b({format:function(t){return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()},parse:function(t){var e=new Date(t);return isNaN(e)?new Date:e},days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",clear:"Clear",close:"Close"},t)}function f(t,e){function n(){for(var t="",n=0;7>n;++n)t+='<span class="dp-day-of-week">'+e.days[n]+"</span>";return t}function a(){var e=new Date(t),n="";e.setDate(1),e.setDate(e.getDate()-e.getDay());for(var a=0;42>a;++a){var o=e.getDate(),r="dp-day",s=e.toDateString()==t.toDateString(),u=e.toDateString()===(new Date).toDateString(),c=e.getMonth()!==t.getMonth(),i=s?"a":"span";s&&(r+=" dp-selected"),c&&(r+=" dp-edge-day"),u&&(r+=" dp-day-today"),n+="<"+i+' href="#" class="'+r+'" data-dp="'+e.getTime()+'">'+o+"</"+i+">",e.setDate(o+1)}return n}return m('<div class="dp-wrapper"><div class="dp"><header class="dp-header"><button class="dp-prev"></button><span class="dp-month-year"><span class="dp-month">'+e.months[t.getMonth()]+'</span><span class="dp-year">'+t.getFullYear()+'</span></span><button class="dp-next"></button></header><div class="dp-body">'+n()+a()+'</div><footer class="dp-footer"><button class="dp-today">'+e.today+'</button><button class="dp-clear">'+e.clear+'</button><button class="dp-close">'+e.close+"</button></footer></div></div>")}function v(t,e,n){t.addEventListener(e,n,!0)}function b(t,e){for(var n in e)t[n]=e[n];return t}function m(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild}var y=p(e),D=y.parse(t.value),g=f(D,y),h=!1,w=m('<button style="position: absolute; width: 1; height: 1; overflow: hidden; border: 0; background: transparent; top: 0;"></button>'),M=document.body,T=window.CustomEvent;t.readOnly=!0,function(){return"function"==typeof T?!1:(T=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n},void(T.prototype=window.Event.prototype))}(),v(t,"focus",n),v(t,"click",n),v(g,"keydown",d({37:c(-1),38:c(-7),39:c(1),40:c(7),13:function(){s(D)},27:a})),v(g,"click",l({"dp-clear":function(){s()},"dp-close":a,"dp-wrapper":a,"dp-prev":i(-1),"dp-next":i(1),"dp-today":function(){s(new Date)},"dp-day":function(t){var e=t.target.getAttribute("data-dp");e&&s(new Date(parseInt(e)))}})),v(g,"mousedown",function(t){t.preventDefault()}),v(g,"blur",function(t){setTimeout(function(){g.contains(document.activeElement)||a()},1)})}"undefined"!=typeof module&&module.exports&&(module.exports=TinyDatePicker);
//# sourceMappingURL=tiny-date-picker.min.js.map