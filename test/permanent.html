<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Tiny Date Picker Demo Permanent mode</title>
    <meta name="author" content="Chris Davies - http://chrisdavies.github.io/">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="A tiny, responsive, modern, zero-dependency date picker">
    <link rel="stylesheet" href="/test/demo.css">
    <link rel="stylesheet" href="/tiny-date-picker.css">
  </head>
  <body>
    <main>
      <h1>Tiny Date Picker</h1>
      <div class="form-field">
        <label>Permanent calendar:</label>
        <div id="cal1" class="permanent-txt" tabindex="401" ></div>
      </div>
      <div class="form-field">
        <label>Another permanent calendar:</label>
        <div id="cal2" class="permanent-txt" tabindex="401" data-max="10/30/2017" data-min="10/01/2017"></div>
      </div>
    </main>

    <script src="/tiny-date-picker.js"></script>
    <script>
      Array.prototype.slice.apply(document.querySelectorAll('.permanent-txt'))
        .forEach(function (el) {
          window['td_' + el.id] = TinyDatePicker(el, {
            mode: 'dp-permanent',
            max: el.getAttribute('data-max'),
            min: el.getAttribute('data-min'),
            onChangeDate: function(context){
              console.log('onChangeDate:', context.currentDate)
            },
            onSelect: function(context){
              console.log('onSelect:', context.currentDate, context.selectedDate);
            }

          });
        });

        document.addEventListener('change', function (e) {
          console.log('Changed to: ' + e.target.value);
        });
    </script>
  </body>
</html>